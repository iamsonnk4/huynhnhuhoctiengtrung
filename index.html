<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ec4899">
    <title>Polar HSK Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --app-bg: #f8fafc;
            --primary: #ec4899;
            --primary-dark: #db2777;
            --glass: rgba(255, 255, 255, 0.9);
            --glass-border: rgba(255, 255, 255, 0.5);
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--app-bg);
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            background-size: 100% 50vh;
            background-repeat: no-repeat;
            color: #1e293b;
            height: 100vh;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        .cn-font { font-family: 'Noto Sans SC', sans-serif; }

        /* App Container */
        #app-container {
            display: flex;
            flex-direction: column;
            height: 100%;
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        /* Content Scroll Area */
        #main-scroll {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 90px;
            scroll-behavior: smooth;
        }
        #main-scroll::-webkit-scrollbar { display: none; }

        /* Header Bear */
        .mascot-area {
            background: linear-gradient(135deg, #fdf2f8 0%, #e0e7ff 100%);
            border-radius: 0 0 2rem 2rem;
            padding: 1.5rem;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            z-index: 10;
        }

        /* Cards */
        .word-card {
            background: white;
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02), 0 1px 2px rgba(0,0,0,0.04);
            border: 1px solid #f1f5f9;
            transition: transform 0.1s;
        }
        .word-card:active { transform: scale(0.98); }

        /* Flashcard 3D Flip */
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { 
            backface-visibility: hidden; 
            -webkit-backface-visibility: hidden;
        }
        .rotate-y-180 { transform: rotateY(180deg); }
        .flashcard-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            border: 1px solid #e2e8f0;
        }

        /* Bottom Nav */
        .bottom-nav {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-around;
            padding: 0.75rem 0.5rem 1.5rem 0.5rem;
            z-index: 50;
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.7rem;
            color: #94a3b8;
            transition: all 0.3s;
            width: 60px;
        }
        .nav-item i { font-size: 1.25rem; margin-bottom: 2px; }
        .nav-item.active { color: var(--primary); transform: translateY(-2px); }

        /* Mic Animation */
        @keyframes pulse-mic {
            0% { box-shadow: 0 0 0 0 rgba(236, 72, 153, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(236, 72, 153, 0); }
            100% { box-shadow: 0 0 0 0 rgba(236, 72, 153, 0); }
        }
        .mic-active { animation: pulse-mic 1.5s infinite; background-color: #fce7f3 !important; color: #db2777 !important; border-color: #db2777 !important; }

        /* Level Selector */
        .level-scroll {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding: 0.5rem 1rem;
            scrollbar-width: none;
        }
        .level-scroll::-webkit-scrollbar { display: none; }
        .level-chip {
            padding: 0.4rem 1rem;
            border-radius: 999px;
            font-weight: 700;
            font-size: 0.85rem;
            white-space: nowrap;
            background: white;
            color: #64748b;
            border: 1px solid #e2e8f0;
            transition: all 0.2s;
        }
        .level-chip.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 6px -1px rgba(236, 72, 153, 0.3);
        }

        /* Toast */
        #ai-toast {
            position: absolute;
            bottom: 100px;
            left: 1rem;
            right: 1rem;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(8px);
            color: white;
            padding: 1rem;
            border-radius: 1rem;
            z-index: 100;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.3s;
            pointer-events: none;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        #ai-toast.show { transform: translateY(0); opacity: 1; pointer-events: auto; }
    </style>
</head>
<body>

<div id="app-container">
    
    <!-- Top Bar -->
    <div class="px-4 py-3 flex justify-between items-center bg-white z-20">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 rounded-full bg-pink-100 flex items-center justify-center text-pink-600 font-bold">
                <i class="fas fa-paw"></i>
            </div>
            <span class="font-extrabold text-slate-700 text-lg">Polar Pro</span>
        </div>
        <div class="flex gap-3">
            <div class="bg-slate-100 px-3 py-1 rounded-full text-xs font-bold text-slate-600 flex items-center gap-1">
                <i class="fas fa-star text-yellow-400"></i> <span id="learned-count">0</span>
            </div>
            <button onclick="toggleSettings()" class="text-slate-400 hover:text-slate-600"><i class="fas fa-cog"></i></button>
        </div>
    </div>

    <!-- HSK Selector -->
    <div class="bg-white border-b border-slate-50 z-20 shadow-sm">
        <div class="level-scroll" id="level-tabs">
            <button onclick="switchLevel(1)" class="level-chip active" id="lvl-1">HSK 1</button>
            <button onclick="switchLevel(2)" class="level-chip" id="lvl-2">HSK 2</button>
            <button onclick="switchLevel(3)" class="level-chip" id="lvl-3">HSK 3</button>
            <button onclick="switchLevel(4)" class="level-chip" id="lvl-4">HSK 4</button>
        </div>
    </div>

    <!-- Main Scrollable Area -->
    <div id="main-scroll">
        
        <!-- HEADER MASCOT -->
        <div class="mascot-area mb-4">
            <div class="inline-block relative animate-[bounce_3s_infinite]">
                <svg width="80" height="80" viewBox="0 0 200 200" fill="none" class="drop-shadow-lg">
                    <circle cx="100" cy="100" r="90" fill="white" stroke="#e2e8f0" stroke-width="4"/>
                    <circle cx="70" cy="90" r="10" fill="#334155"/><circle cx="130" cy="90" r="10" fill="#334155"/>
                    <path d="M100 120V130" stroke="#334155" stroke-width="4"/>
                    <path d="M90 130Q100 140 110 130" stroke="#334155" stroke-width="4" fill="none"/>
                    <ellipse cx="60" cy="110" rx="15" ry="10" fill="#fbcfe8" opacity="0.6"/>
                    <ellipse cx="140" cy="110" rx="15" ry="10" fill="#fbcfe8" opacity="0.6"/>
                    <circle cx="50" cy="50" r="20" fill="white" stroke="#e2e8f0" stroke-width="4"/>
                    <circle cx="150" cy="50" r="20" fill="white" stroke="#e2e8f0" stroke-width="4"/>
                </svg>
            </div>
            <h2 class="text-xl font-bold text-slate-800 mt-2" id="page-title">Danh sách từ vựng</h2>
            <p class="text-sm text-slate-500">Học mỗi ngày, tích lũy tương lai</p>
        </div>

        <!-- SEARCH -->
        <div class="px-4 mb-4" id="search-container">
            <div class="relative">
                <i class="fas fa-search absolute left-4 top-3.5 text-slate-400"></i>
                <input type="text" id="search-input" placeholder="Tìm kiếm từ vựng, pinyin..." 
                       class="w-full bg-white border border-slate-200 rounded-2xl py-3 pl-10 pr-4 text-sm font-semibold focus:outline-none focus:border-pink-300 focus:ring-2 focus:ring-pink-100 shadow-sm">
            </div>
        </div>

        <!-- VIEWS -->
        
        <!-- 1. LIST VIEW -->
        <div id="view-list" class="px-4">
            <!-- Items injected JS -->
        </div>

        <!-- 2. FLASHCARD VIEW -->
        <div id="view-card" class="px-4 hidden h-full flex flex-col">
            <div class="relative w-full aspect-[3/4] max-h-[450px] perspective-1000 mx-auto mb-6" onclick="flipCard()">
                <div id="card-inner" class="relative w-full h-full duration-500 transform-style-3d shadow-xl rounded-3xl">
                    <!-- Front -->
                    <div class="flashcard-face z-20">
                        <span class="text-xs uppercase font-bold text-slate-400 mb-2 tracking-widest">Từ vựng</span>
                        <h1 class="text-6xl font-bold text-slate-800 cn-font mb-2" id="fc-hanzi">...</h1>
                        <p class="text-xl text-pink-500 font-bold mb-6 font-mono" id="fc-pinyin-front">...</p>
                        
                        <div class="flex gap-4" onclick="event.stopPropagation()">
                            <button onclick="playAudio('fc-hanzi')" class="w-12 h-12 rounded-full bg-slate-50 text-slate-600 hover:bg-slate-100 flex items-center justify-center shadow-sm active:scale-95 transition">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <!-- Nút Mic to ở mặt trước -->
                            <button onclick="toggleMic('flashcard')" id="fc-mic-btn" class="w-16 h-16 rounded-full bg-pink-500 text-white shadow-lg shadow-pink-200 flex items-center justify-center text-2xl active:scale-95 transition border-4 border-white">
                                <i class="fas fa-microphone"></i>
                            </button>
                        </div>
                        <p class="text-slate-300 text-xs mt-6"><i class="fas fa-hand-pointer mr-1 animate-bounce"></i> Chạm để lật</p>
                    </div>
                    <!-- Back -->
                    <div class="flashcard-face rotate-y-180 z-10 bg-slate-50">
                        <div class="p-6 text-center w-full">
                            <h3 class="text-2xl font-bold text-purple-600 mb-1" id="fc-pinyin-back">...</h3>
                            <p class="text-xl text-slate-800 font-bold mb-4" id="fc-meaning">...</p>
                            
                            <div class="bg-white p-4 rounded-xl border border-slate-100 text-left mb-4 shadow-sm w-full">
                                <p class="cn-font text-lg text-slate-700 font-medium leading-relaxed mb-1" id="fc-example">...</p>
                                <p class="text-sm text-slate-500 italic" id="fc-ex-mean">...</p>
                            </div>
                            
                            <button onclick="event.stopPropagation(); playAudio('fc-example')" class="px-4 py-2 bg-white border border-slate-200 rounded-lg text-slate-600 text-sm font-bold shadow-sm active:scale-95">
                                <i class="fas fa-volume-up mr-2 text-pink-500"></i>Nghe ví dụ
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-center gap-6">
                <button onclick="navCard(-1)" class="w-14 h-14 rounded-full bg-white text-slate-400 shadow-lg border border-slate-100 flex items-center justify-center active:scale-95"><i class="fas fa-arrow-left text-xl"></i></button>
                <button onclick="markKnown()" class="h-14 px-8 rounded-full bg-gradient-to-r from-emerald-400 to-emerald-600 text-white font-bold shadow-lg shadow-emerald-100 flex items-center gap-2 active:scale-95">
                    <i class="fas fa-check-circle"></i> Đã thuộc
                </button>
                <button onclick="navCard(1)" class="w-14 h-14 rounded-full bg-white text-slate-400 shadow-lg border border-slate-100 flex items-center justify-center active:scale-95"><i class="fas fa-arrow-right text-xl"></i></button>
            </div>
        </div>

        <!-- 3. MOCK TEST VIEW -->
        <div id="view-test" class="px-4 hidden">
            <!-- Test Menu -->
            <div id="test-menu" class="grid grid-cols-2 gap-3">
                <!-- Generated by JS -->
            </div>

            <!-- Testing Interface -->
            <div id="test-interface" class="hidden h-full">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="quitTest()" class="text-slate-400 font-bold text-sm"><i class="fas fa-times mr-1"></i> Thoát</button>
                    <div class="bg-slate-100 px-3 py-1 rounded-full text-slate-700 font-mono font-bold text-sm" id="timer">30:00</div>
                </div>

                <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 mb-4 min-h-[300px] flex flex-col justify-center text-center">
                    <span class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">Câu hỏi <span id="q-curr">1</span>/<span id="q-total">20</span></span>
                    <h2 class="text-4xl font-bold text-slate-800 cn-font mb-6" id="test-q">...</h2>
                    <div class="grid grid-cols-1 gap-3 w-full" id="test-opts">
                        <!-- Options -->
                    </div>
                </div>
                
                <div id="test-feedback" class="text-center font-bold h-6 mb-4"></div>
            </div>

            <!-- Result -->
            <div id="test-result" class="hidden text-center py-10">
                <div class="w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce">
                    <i class="fas fa-trophy text-5xl text-yellow-500"></i>
                </div>
                <h2 class="text-2xl font-bold text-slate-800 mb-2">Hoàn thành!</h2>
                <div class="text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500 mb-2" id="score-val">0</div>
                <p class="text-slate-500 mb-8 font-medium">Điểm số của bạn</p>
                <button onclick="resetTest()" class="w-full py-4 bg-slate-800 text-white rounded-2xl font-bold shadow-lg">Quay lại</button>
            </div>
        </div>

    </div>

    <!-- AI Toast Notification -->
    <div id="ai-toast">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-pink-500 flex items-center justify-center flex-shrink-0" id="ai-icon">
                <i class="fas fa-microphone text-white"></i>
            </div>
            <div class="flex-1 min-w-0">
                <p class="text-[10px] font-bold text-slate-400 uppercase mb-0.5" id="ai-title">AI Feedback</p>
                <p class="font-bold text-white text-lg truncate" id="ai-text">...</p>
                <p class="text-xs text-slate-300" id="ai-msg">...</p>
            </div>
            <button onclick="closeAiToast()" class="text-slate-400"><i class="fas fa-times"></i></button>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="navSwitch('list', this)">
            <i class="fas fa-book"></i>
            <span>Từ vựng</span>
        </div>
        <div class="nav-item" onclick="navSwitch('card', this)">
            <i class="fas fa-clone"></i>
            <span>Thẻ</span>
        </div>
        <div class="nav-item" onclick="navSwitch('test', this)">
            <i class="fas fa-pencil-alt"></i>
            <span>Thi thử</span>
        </div>
        <!-- Settings Hidden Button -->
        <div class="hidden" id="settings-modal">
            <!-- Modal logic handled via JS if needed, simplifying for mobile -->
        </div>
    </div>

</div>

<script>
    // --- KHỐI DỮ LIỆU ---
    // HSK 1: Full 150 từ
    const hsk1_db = [
        ["爱","ài","Yêu","我爱你","Anh yêu em"],["八","bā","Số 8","八个人","8 người"],["爸爸","bàba","Bố","我爸爸","Bố tôi"],
        ["杯子","bēizi","Cốc","一个杯子","Một cái cốc"],["北京","Běijīng","Bắc Kinh","去北京","Đi Bắc Kinh"],["本","běn","Quyển","一本书","Một quyển sách"],
        ["不客气","búkèqi","Đừng khách sáo","不客气","Không có chi"],["不","bù","Không","不是","Không phải"],["菜","cài","Món ăn","好吃的菜","Món ngon"],
        ["茶","chá","Trà","喝茶","Uống trà"],["吃","chī","Ăn","吃饭","Ăn cơm"],["出租车","chūzūchē","Taxi","坐出租车","Đi taxi"],
        ["打电话","dǎ diànhuà","Gọi điện","给他打电话","Gọi cho anh ấy"],["大","dà","To","很大","Rất to"],["的","de","Của","我的","Của tôi"],
        ["点","diǎn","Giờ","几点","Mấy giờ"],["电脑","diànnǎo","Máy tính","买电脑","Mua máy tính"],["电视","diànshì","TV","看电视","Xem TV"],
        ["电影","diànyǐng","Phim","看电影","Xem phim"],["东西","dōngxi","Đồ vật","买东西","Mua đồ"],["都","dōu","Đều","我们都去","Chúng tôi đều đi"],
        ["读","dú","Đọc","读书","Đọc sách"],["对不起","duìbuqǐ","Xin lỗi","对不起","Xin lỗi"],["多","duō","Nhiều","很多人","Nhiều người"],
        ["多少","duōshao","Bao nhiêu","多少钱","Bao nhiêu tiền"],["儿子","érzi","Con trai","我的儿子","Con trai tôi"],["二","èr","Số 2","二月","Tháng 2"],
        ["饭馆","fànguǎn","Nhà hàng","去饭馆","Đi nhà hàng"],["飞机","fēijī","Máy bay","坐飞机","Đi máy bay"],["分钟","fēnzhōng","Phút","几分钟","Mấy phút"],
        ["高兴","gāoxìng","Vui vẻ","很高兴","Rất vui"],["个","gè","Cái","一个人","Một người"],["工作","gōngzuò","Công việc","找工作","Tìm việc"],
        ["狗","gǒu","Chó","小狗","Chó con"],["汉语","Hànyǔ","Tiếng Trung","说汉语","Nói tiếng Trung"],["好","hǎo","Tốt","很好","Rất tốt"],
        ["号","hào","Ngày/Số","几号","Ngày mấy"],["喝","hē","Uống","喝水","Uống nước"],["和","hé","Và","我和你","Tôi và bạn"],
        ["很","hěn","Rất","很好","Rất tốt"],["后面","hòumian","Phía sau","在后面","Ở phía sau"],["回","huí","Về","回家","Về nhà"],
        ["会","huì","Biết/Sẽ","我会","Tôi biết"],["几","jǐ","Mấy","几个","Mấy cái"],["家","jiā","Nhà","回家","Về nhà"],
        ["叫","jiào","Tên là","我叫...","Tôi tên là..."],["今天","jīntiān","Hôm nay","今天是...","Hôm nay là..."],["九","jiǔ","Số 9","九个","9 cái"],
        ["开","kāi","Mở/Lái","开门","Mở cửa"],["看","kàn","Nhìn/Xem","看书","Đọc sách"],["看见","kànjiàn","Nhìn thấy","我看见了","Tôi thấy rồi"],
        ["块","kuài","Đồng","一块钱","1 đồng"],["来","lái","Đến","你来吗","Bạn đến không"],["老师","lǎoshī","Giáo viên","王老师","Thầy Vương"],
        ["了","le","Rồi","吃了","Ăn rồi"],["冷","lěng","Lạnh","很冷","Rất lạnh"],["里","lǐ","Trong","家里","Trong nhà"],
        ["零","líng","Số 0","二零二零","2020"],["六","liù","Số 6","六个","6 cái"],["妈妈","māma","Mẹ","我妈妈","Mẹ tôi"],
        ["吗","ma","Không?","好吗","Tốt không"],["买","mǎi","Mua","买菜","Mua rau"],["猫","māo","Mèo","小猫","Mèo con"],
        ["没关系","méi guānxi","Không sao","没关系","Không sao đâu"],["没有","méiyǒu","Không có","我没有","Tôi không có"],["米饭","mǐfàn","Cơm","吃米饭","Ăn cơm"],
        ["明天","míngtiān","Ngày mai","明天见","Mai gặp"],["名字","míngzi","Tên","什么名字","Tên gì"],["哪","nǎ","Nào","哪个人","Người nào"],
        ["哪儿","nǎr","Ở đâu","在哪儿","Ở đâu"],["那","nà","Kia","那个","Cái kia"],["呢","ne","Thế/Nhé","你呢","Còn bạn"],
        ["能","néng","Có thể","我能","Tôi có thể"],["你","nǐ","Bạn","你好","Chào bạn"],["年","nián","Năm","今年","Năm nay"],
        ["女儿","nǚ’ér","Con gái","小女儿","Con gái nhỏ"],["朋友","péngyou","Bạn bè","好朋友","Bạn tốt"],["漂亮","piàoliang","Xinh đẹp","很漂亮","Rất đẹp"],
        ["苹果","píngguǒ","Táo","吃苹果","Ăn táo"],["七","qī","Số 7","七个","7 cái"],["钱","qián","Tiền","有钱","Có tiền"],
        ["前面","qiánmian","Phía trước","在前面","Ở phía trước"],["请","qǐng","Mời","请坐","Mời ngồi"],["去","qù","Đi","去哪儿","Đi đâu"],
        ["热","rè","Nóng","很热","Rất nóng"],["人","rén","Người","好人","Người tốt"],["认识","rènshi","Quen biết","认识你","Quen bạn"],
        ["三","sān","Số 3","三个","3 cái"],["商店","shāngdiàn","Cửa hàng","去商店","Đi cửa hàng"],["上","shàng","Trên/Lên","上面","Phía trên"],
        ["上午","shàngwǔ","Buổi sáng","上午好","Chào buổi sáng"],["少","shǎo","Ít","很少","Rất ít"],["谁","shéi","Ai","他是谁","Anh ấy là ai"],
        ["什么","shénme","Cái gì","做什么","Làm gì"],["十","shí","Số 10","十个","10 cái"],["时候","shíhou","Lúc","什么时候","Khi nào"],
        ["是","shì","Là","我是","Tôi là"],["书","shū","Sách","看书","Đọc sách"],["水","shuǐ","Nước","喝水","Uống nước"],
        ["水果","shuǐguǒ","Hoa quả","吃水果","Ăn hoa quả"],["睡觉","shuìjiào","Ngủ","去睡觉","Đi ngủ"],["说","shuō","Nói","说话","Nói chuyện"],
        ["四","sì","Số 4","四个","4 cái"],["岁","suì","Tuổi","几岁","Mấy tuổi"],["他","tā","Anh ấy","他和她","Anh ấy và cô ấy"],
        ["她","tā","Cô ấy","她的","Của cô ấy"],["太","tài","Quá","太好了","Quá tốt"],["天气","tiānqì","Thời tiết","好天气","Thời tiết tốt"],
        ["听","tīng","Nghe","听音乐","Nghe nhạc"],["同学","tóngxué","Bạn học","同班同学","Bạn cùng lớp"],["喂","wèi","A lô","喂你好","A lô xin chào"],
        ["我","wǒ","Tôi","我走了","Tôi đi đây"],["我们","wǒmen","Chúng tôi","我们要去","Chúng tôi phải đi"],["五","wǔ","Số 5","五个","5 cái"],
        ["喜欢","xǐhuan","Thích","我喜欢","Tôi thích"],["下","xià","Dưới","下面","Phía dưới"],["下午","xiàwǔ","Chiều","下午好","Chào buổi chiều"],
        ["下雨","xiàyǔ","Mưa","下雨了","Mưa rồi"],["先生","xiānsheng","Ngài","王先生","Ông Vương"],["现在","xiànzài","Bây giờ","现在几点","Bây giờ mấy giờ"],
        ["想","xiǎng","Muốn","我想去","Tôi muốn đi"],["小","xiǎo","Nhỏ","很小","Rất nhỏ"],["小姐","xiǎojiě","Cô","李小姐","Cô Lý"],
        ["些","xiē","Vài","一些","Một vài"],["写","xiě","Viết","写字","Viết chữ"],["谢谢","xièxie","Cảm ơn","谢谢你","Cảm ơn bạn"],
        ["星期","xīngqī","Tuần","星期一","Thứ hai"],["学生","xuésheng","Học sinh","小学生","Học sinh tiểu học"],["学习","xuéxí","Học","学习汉语","Học tiếng Trung"],
        ["学校","xuéxiào","Trường","去学校","Đến trường"],["一","yī","Số 1","一个","1 cái"],["衣服","yīfu","Quần áo","买衣服","Mua quần áo"],
        ["医生","yīshēng","Bác sĩ","看医生","Khám bác sĩ"],["医院","yīyuàn","Bệnh viện","去医院","Đi bệnh viện"],["椅子","yǐzi","Ghế","坐椅子","Ngồi ghế"],
        ["有","yǒu","Có","我有","Tôi có"],["月","yuè","Tháng","一月","Tháng 1"],["再见","zàijiàn","Tạm biệt","再见","Tạm biệt"],
        ["在","zài","Ở","在家","Ở nhà"],["怎么","zěnme","Thế nào","怎么做","Làm thế nào"],["怎么样","zěnmeyàng","Ra sao","怎么样","Thế nào rồi"],
        ["这","zhè","Đây","这个","Cái này"],["中国","Zhōngguó","Trung Quốc","去中国","Đi Trung Quốc"],["中午","zhōngwǔ","Trưa","中午好","Chào buổi trưa"],
        ["住","zhù","Sống","住在","Sống ở"],["桌子","zhuōzi","Bàn","桌子上","Trên bàn"],["字","zì","Chữ","写字","Viết chữ"],
        ["昨天","zuótiān","Hôm qua","昨天见","Hôm qua gặp"],["坐","zuò","Ngồi","坐下","Ngồi xuống"],["做","zuò","Làm","做饭","Nấu cơm"]
    ];

    // HSK 2: Full 150 từ
    const hsk2_db = [
        ["吧","ba","Nhé","走吧","Đi thôi"],["白","bái","Trắng","白色","Màu trắng"],["百","bǎi","Trăm","一百","Một trăm"],
        ["帮助","bāngzhù","Giúp","帮助我","Giúp tôi"],["报纸","bàozhǐ","Báo","看报纸","Đọc báo"],["比","bǐ","So với","比你高","Cao hơn bạn"],
        ["别","bié","Đừng","别去","Đừng đi"],["长","cháng","Dài","很长","Rất dài"],["唱歌","chànggē","Hát","爱唱歌","Yêu ca hát"],
        ["出","chū","Ra","出来","Đi ra"],["穿","chuān","Mặc","穿衣服","Mặc quần áo"],["次","cì","Lần","一次","Một lần"],
        ["从","cóng","Từ","从哪来","Từ đâu đến"],["错","cuò","Sai","错了","Sai rồi"],["打篮球","dǎ lánqiú","Bóng rổ","打篮球","Chơi bóng rổ"],
        ["大家","dàjiā","Mọi người","大家","Mọi người"],["到","dào","Đến","到了","Đến rồi"],["得","de","Được","做得好","Làm tốt"],
        ["等","děng","Đợi","等我","Đợi tôi"],["弟弟","dìdi","Em trai","我弟弟","Em trai tôi"],["第一","dì-yī","Thứ 1","第一名","Hạng nhất"],
        ["懂","dǒng","Hiểu","懂了","Hiểu rồi"],["对","duì","Đúng","对了","Đúng rồi"],["房间","fángjiān","Phòng","大房间","Phòng lớn"],
        ["非常","fēicháng","Vô cùng","非常快","Cực nhanh"],["服务员","fúwùyuán","Phục vụ","叫服务员","Gọi phục vụ"],["高","gāo","Cao","很高","Rất cao"],
        ["告诉","gàosu","Bảo","告诉你","Bảo bạn"],["哥哥","gēge","Anh trai","大哥哥","Anh lớn"],["给","gěi","Cho","给你","Cho bạn"],
        ["公共汽车","gōnggòng qìchē","Xe buýt","坐公车","Đi xe buýt"],["公司","gōngsī","Công ty","大公司","Công ty lớn"],["贵","guì","Đắt","太贵","Đắt quá"],
        ["过","guo","Qua","去过","Đã đi qua"],["还","hái","Còn","还有","Vẫn còn"],["孩子","háizi","Trẻ con","好孩子","Bé ngoan"],
        ["好吃","hǎochī","Ngon","很好吃","Rất ngon"],["黑","hēi","Đen","黑色","Màu đen"],["红","hóng","Đỏ","红色","Màu đỏ"],
        ["火车站","huǒchēzhàn","Ga tàu","去车站","Đi ga tàu"],["机场","jīchǎng","Sân bay","去机场","Ra sân bay"],["鸡蛋","jīdàn","Trứng","吃鸡蛋","Ăn trứng"],
        ["件","jiàn","Chiếc","一件","1 chiếc"],["教室","jiàoshì","Lớp học","在教室","Trong lớp"],["姐姐","jiějie","Chị gái","大姐","Chị cả"],
        ["介绍","jièshào","Giới thiệu","介绍一下","Giới thiệu chút"],["进","jìn","Vào","请进","Mời vào"],["近","jìn","Gần","很近","Rất gần"],
        ["就","jiù","Thì/Ngay","就是","Chính là"],["觉得","juéde","Cảm thấy","我觉得","Tôi thấy"],["咖啡","kāfēi","Cà phê","喝咖啡","Uống cafe"],
        ["开始","kāishǐ","Bắt đầu","开始吧","Bắt đầu nhé"],["考试","kǎoshì","Thi","去考试","Đi thi"],["可能","kěnéng","Có thể","可能吧","Có thể đấy"],
        ["可以","kěyǐ","Được","可以吗","Được không"],["课","kè","Bài học","上课","Lên lớp"],["快","kuài","Nhanh","很快","Rất nhanh"],
        ["快乐","kuàilè","Vui vẻ","新年快乐","Năm mới vui"],["累","lèi","Mệt","很累","Rất mệt"],["离","lí","Cách","离这儿","Cách đây"],
        ["两","liǎng","Hai","两个","2 cái"],["路","lù","Đường","大路","Đường lớn"],["旅游","lǚyóu","Du lịch","去旅游","Đi du lịch"],
        ["卖","mài","Bán","卖完","Bán hết"],["慢","màn","Chậm","慢走","Đi chậm"],["忙","máng","Bận","很忙","Rất bận"],
        ["每","měi","Mỗi","每天","Mỗi ngày"],["妹妹","mèimei","Em gái","小妹","Em gái"],["门","mén","Cửa","开门","Mở cửa"],
        ["面条","miàntiáo","Mì","吃面","Ăn mì"],["男","nán","Nam","男人","Đàn ông"],["您","nín","Ngài","您好","Chào ngài"],
        ["牛奶","niúnǎi","Sữa","喝奶","Uống sữa"],["女","nǚ","Nữ","女人","Phụ nữ"],["旁边","pángbiān","Bên cạnh","在旁边","Ở bên cạnh"],
        ["跑步","pǎobù","Chạy","去跑步","Đi chạy bộ"],["便宜","piányi","Rẻ","很便宜","Rất rẻ"],["票","piào","Vé","买票","Mua vé"],
        ["妻子","qīzi","Vợ","好妻子","Vợ hiền"],["起床","qǐchuáng","Dậy","早起","Dậy sớm"],["千","qiān","Nghìn","一千","1000"],
        ["铅笔","qiānbǐ","Bút chì","用铅笔","Dùng bút chì"],["晴","qíng","Nắng","晴天","Trời nắng"],["去年","qùnián","Năm ngoái","去年见","Gặp năm ngoái"],
        ["让","ràng","Nhường","让他","Nhường anh ấy"],["日","rì","Ngày","一日","1 ngày"],["上班","shàngbān","Đi làm","去上班","Đi làm"],
        ["身体","shēntǐ","Sức khỏe","好身体","Sức khỏe tốt"],["生病","shēngbìng","Ốm","生病了","Bị ốm rồi"],["生日","shēngrì","Sinh nhật","过生日","Ăn sinh nhật"],
        ["时间","shíjiān","Thời gian","有时间","Có thời gian"],["事情","shìqing","Sự việc","好事情","Việc tốt"],["手表","shǒubiǎo","Đồng hồ","新手表","Đồng hồ mới"],
        ["手机","shǒujī","Di động","玩手机","Chơi điện thoại"],["送","sòng","Tặng","送你","Tặng bạn"],["虽然","suīrán","Tuy","虽然...但是","Tuy...nhưng"],
        ["它","tā","Nó","它是","Nó là"],["踢足球","tī zúqiú","Đá bóng","去踢球","Đi đá bóng"],["题","tí","Đề","做题","Làm đề"],
        ["跳舞","tiàowǔ","Nhảy","去跳舞","Đi nhảy"],["外","wài","Ngoài","外面","Bên ngoài"],["完","wán","Xong","做完","Làm xong"],
        ["玩","wán","Chơi","去玩","Đi chơi"],["晚上","wǎnshang","Tối","今晚","Tối nay"],["为什么","wèishénme","Tại sao","为什么呢","Tại sao thế"],
        ["问","wèn","Hỏi","问你","Hỏi bạn"],["问题","wèntí","Vấn đề","没问题","Không vấn đề"],["西瓜","xīguā","Dưa hấu","吃瓜","Ăn dưa"],
        ["希望","xīwàng","Hy vọng","我希望","Tôi hy vọng"],["洗","xǐ","Rửa","洗手","Rửa tay"],["小时","xiǎoshí","Giờ","一小时","1 tiếng"],
        ["笑","xiào","Cười","大笑","Cười to"],["新","xīn","Mới","新年","Năm mới"],["姓","xìng","Họ","姓王","Họ Vương"],
        ["休息","xiūxi","Nghỉ","去休息","Đi nghỉ"],["雪","xuě","Tuyết","下雪","Tuyết rơi"],["颜色","yánsè","Màu","好颜色","Màu đẹp"],
        ["眼睛","yǎnjing","Mắt","大眼睛","Mắt to"],["羊肉","yángròu","Thịt cừu","吃肉","Ăn thịt"],["药","yào","Thuốc","吃药","Uống thuốc"],
        ["要","yào","Muốn","我要","Tôi muốn"],["也","yě","Cũng","我也是","Tôi cũng thế"],["一起","yìqǐ","Cùng","在一起","Ở cùng nhau"],
        ["一下","yíxià","Một chút","看一下","Xem một chút"],["已经","yǐjīng","Đã","已经走了","Đã đi rồi"],["意思","yìsi","Ý nghĩa","有意思","Thú vị"],
        ["因为","yīnwèi","Bởi vì","因为...所以","Vì...nên"],["阴","yīn","Râm","阴天","Trời râm"],["游泳","yóuyǒng","Bơi","去游泳","Đi bơi"],
        ["右边","yòubian","Phải","在右边","Bên phải"],["鱼","yú","Cá","吃鱼","Ăn cá"],["远","yuǎn","Xa","很远","Rất xa"],
        ["运动","yùndòng","Thể thao","做运动","Tập thể thao"],["再","zài","Lại","再见","Tạm biệt"],["早上","zǎoshang","Sáng","早安","Chào buổi sáng"],
        ["丈夫","zhàngfu","Chồng","好丈夫","Chồng tốt"],["找","zhǎo","Tìm","找人","Tìm người"],["着","zhe","Đang","看着","Đang nhìn"],
        ["真","zhēn","Thật","真好","Thật tốt"],["正在","zhèngzài","Đang","正在做","Đang làm"],["知道","zhīdao","Biết","我知道","Tôi biết"],
        ["准备","zhǔnbèi","Chuẩn bị","准备好","Chuẩn bị xong"],["自行车","zìxíngchē","Xe đạp","骑车","Đạp xe"],["走","zǒu","Đi","走吧","Đi thôi"],
        ["最","zuì","Nhất","最好","Tốt nhất"],["左边","zuǒbian","Trái","在左边","Bên trái"]
    ];

    // HSK 3: 300 từ mẫu quan trọng (Đã nén)
    const hsk3_db = [
        ["阿姨","āyí","Dì","阿姨好","Chào dì"],["矮","ǎi","Thấp","个子矮","Dáng thấp"],["安静","ānjìng","Yên tĩnh","很安静","Rất yên tĩnh"],
        ["把","bǎ","Giới từ","把书给我","Đưa sách đây"],["搬","bān","Chuyển","搬家","Chuyển nhà"],["班","bān","Lớp","上班","Đi làm"],
        ["办法","bànfǎ","Cách","没办法","Hết cách"],["半","bàn","Nửa","一半","Một nửa"],["办公室","bàngōngshì","Văn phòng","去办公室","Đến VP"],
        ["帮忙","bāngmáng","Giúp","请帮忙","Xin giúp"],["包","bāo","Túi","书包","Cặp sách"],["饱","bǎo","No","吃饱","Ăn no"],
        ["北方","běifāng","Miền Bắc","北方人","Người Bắc"],["被","bèi","Bị","被打了","Bị đánh"],["鼻子","bízi","Mũi","大鼻子","Mũi to"],
        ["比较","bǐjiào","Khá","比较好","Khá tốt"],["比赛","bǐsài","Thi đấu","看比赛","Xem thi đấu"],["必须","bìxū","Phải","必须去","Phải đi"],
        ["变化","biànhuà","Thay đổi","变化大","Thay đổi lớn"],["表示","biǎoshì","Biểu thị","表示感谢","Biểu thị cảm ơn"],["表演","biǎoyǎn","Biểu diễn","精彩表演","Diễn hay"],
        ["别人","biéren","Người khác","问别人","Hỏi người khác"],["宾馆","bīnguǎn","Khách sạn","住宾馆","Ở khách sạn"],["冰箱","bīngxiāng","Tủ lạnh","放冰箱","Để tủ lạnh"],
        ["才","cái","Mới","刚才","Vừa nãy"],["菜单","càidān","Menu","看菜单","Xem menu"],["参加","cānjiā","Tham gia","参加会议","Dự họp"],
        ["草","cǎo","Cỏ","绿草","Cỏ xanh"],["层","céng","Tầng","一层","Tầng 1"],["差","chà","Kém","很差","Rất kém"],
        ["超市","chāoshì","Siêu thị","逛超市","Đi siêu thị"],["衬衫","chènshān","Sơ mi","白衬衫","Sơ mi trắng"],["成绩","chéngjì","Thành tích","好成绩","Điểm cao"],
        ["城市","chéngshì","Thành phố","大城市","Thành phố lớn"],["迟到","chídào","Muộn","别迟到","Đừng muộn"],["出现","chūxiàn","Xuất hiện","突然出现","Thình lình"],
        ["厨房","chúfáng","Bếp","在厨房","Trong bếp"],["除了","chúle","Ngoài ra","除了你","Ngoài bạn"],["春","chūn","Xuân","春天","Mùa xuân"],
        ["词语","cíyǔ","Từ ngữ","新词语","Từ mới"],["聪明","cōngming","Thông minh","很聪明","Rất thông minh"],["打扫","dǎsǎo","Dọn","打扫房间","Dọn phòng"],
        ["打算","dǎsuàn","Dự định","有打算","Có dự định"],["带","dài","Mang","带钱","Mang tiền"],["担心","dānxīn","Lo","别担心","Đừng lo"],
        ["蛋糕","dàngāo","Bánh","吃蛋糕","Ăn bánh"],["当然","dāngrán","Đương nhiên","当然可以","Tất nhiên được"],["灯","dēng","Đèn","开灯","Bật đèn"],
        ["地","de","Trợ từ","高兴地","Vui vẻ..."],["地方","dìfang","Nơi","好地方","Nơi tốt"],["地铁","dìtiě","Tàu điện","坐地铁","Đi tàu điện"],
        ["地图","dìtú","Bản đồ","看地图","Xem bản đồ"],["电梯","diàntī","Thang máy","坐电梯","Đi thang máy"],["电子邮件","diànzǐyóujiàn","Email","发邮件","Gửi mail"],
        ["东","dōng","Đông","东方","Phương Đông"],["冬","dōng","Đông","冬天","Mùa đông"],["动物","dòngwù","Động vật","小动物","Động vật nhỏ"],
        ["短","duǎn","Ngắn","很短","Rất ngắn"],["段","duàn","Đoạn","一段时间","Một đoạn"],["锻炼","duànliàn","Tập","锻炼身体","Tập thể dục"],
        ["多么","duōme","Bao nhiêu","多么好","Tốt biết bao"],["饿","è","Đói","我饿了","Tôi đói"],["耳朵","ěrduo","Tai","耳朵疼","Đau tai"],
        ["发","fā","Phát","发短信","Gửi tin"],["发烧","fāshāo","Sốt","发烧了","Bị sốt"],["发现","fāxiàn","Phát hiện","没发现","Không thấy"],
        ["方便","fāngbiàn","Tiện","很方便","Rất tiện"],["放","fàng","Đặt","放在","Đặt tại"],["放心","fàngxīn","Yên tâm","请放心","Xin yên tâm"],
        ["分","fēn","Phút","十分","10 phút"],["复习","fùxí","Ôn","复习课文","Ôn bài"],["附近","fùjìn","Gần","在附近","Ở gần đây"],
        ["干净","gānjìng","Sạch","很干净","Rất sạch"],["感冒","gǎnmào","Cảm cúm","感冒了","Bị cúm"],["感兴趣","gǎn xìngqù","Hứng thú","对...感兴趣","Hứng thú với..."],
        ["刚才","gāngcái","Vừa nãy","刚才","Vừa nãy"],["个子","gèzi","Dáng","个子高","Dáng cao"],["根据","gēnjù","Căn cứ","根据...","Căn cứ..."],
        ["跟","gēn","Với","跟我","Với tôi"],["更","gèng","Càng","更好","Tốt hơn"],["公斤","gōngjīn","Kg","一公斤","1 kg"],
        ["公园","gōngyuán","Công viên","去公园","Đi công viên"],["故事","gùshi","Truyện","讲故事","Kể chuyện"],["刮风","guāfēng","Gió","刮大风","Gió lớn"],
        ["关","guān","Đóng","关门","Đóng cửa"],["关系","guānxi","Quan hệ","没关系","Không sao"],["关心","guānxīn","Quan tâm","关心你","Quan tâm bạn"],
        ["关于","guānyú","Về","关于...","Về..."],["国家","guójiā","Quốc gia","好国家","Nước tốt"],["过","guò","Qua","过节","Qua lễ"],
        ["过去","guòqù","Quá khứ","过去的事","Chuyện cũ"],["还是","háishì","Hay là","A还是B","A hay B"],["害怕","hàipà","Sợ","别怕","Đừng sợ"],
        ["黑板","hēibǎn","Bảng đen","看黑板","Nhìn bảng"],["后来","hòulái","Sau đó","后来...","Sau đó..."],["护照","hùzhào","Hộ chiếu","看护照","Xem hộ chiếu"],
        ["花","huā","Hoa","花钱","Tiêu tiền"],["画","huà","Vẽ","画画","Vẽ tranh"],["坏","huài","Xấu","坏人","Người xấu"],
        ["欢迎","huānyíng","Hoan nghênh","欢迎光临","Chào mừng"],["环境","huánjìng","Môi trường","好环境","Môi trường tốt"],["换","huàn","Đổi","换钱","Đổi tiền"],
        ["黄河","Huánghé","Hoàng Hà","黄河水","Nước sông"],["回答","huídá","Trả lời","回答我","Trả lời tôi"],["会议","huìyì","Họp","开会","Đi họp"],
        ["或者","huòzhě","Hoặc","A或者B","A hoặc B"],["几乎","jīhū","Hầu như","几乎忘了","Suýt quên"],["机会","jīhuì","Cơ hội","好机会","Cơ hội tốt"],
        ["极","jí","Cực","好极了","Tốt cực"],["记得","jìde","Nhớ","记得吗","Nhớ không"],["季节","jìjié","Mùa","四个季节","4 mùa"],
        ["检查","jiǎnchá","Kiểm tra","检查身体","Khám bệnh"],["简单","jiǎndān","Đơn giản","很简单","Rất đơn giản"],["见面","jiànmiàn","Gặp","见面","Gặp mặt"],
        ["健康","jiànkāng","Khỏe","祝健康","Chúc khỏe"],["讲","jiǎng","Nói","讲话","Nói chuyện"],["教","jiāo","Dạy","教汉语","Dạy tiếng Trung"],
        ["角","jiǎo","Hào","一角","1 hào"],["脚","jiǎo","Chân","脚疼","Đau chân"],["接","jiē","Đón","接人","Đón người"],
        ["街道","jiēdào","Phố","大街道","Phố lớn"],["节目","jiémù","Tiết mục","好节目","Tiết mục hay"],["节日","jiérì","Lễ","过节日","Ăn lễ"],
        ["结婚","jiéhūn","Kết hôn","结婚了","Cưới rồi"],["结束","jiéshù","Kết thúc","结束了","Xong rồi"],["解决","jiějué","Giải quyết","解决问题","Giải quyết vấn đề"],
        ["借","jiè","Mượn","借钱","Mượn tiền"],["经常","jīngcháng","Thường","经常去","Thường đi"],["经过","jīngguò","Qua","经过...","Trải qua..."],
        ["经理","jīnglǐ","Giám đốc","李经理","GĐ Lý"],["久","jiǔ","Lâu","很久","Rất lâu"],["旧","jiù","Cũ","旧书","Sách cũ"],
        ["句子","jùzi","Câu","造句","Đặt câu"],["决定","juédìng","Quyết định","决定了","Quyết rồi"],["可爱","kě'ài","Đáng yêu","很可爱","Rất cute"],
        ["渴","kě","Khát","口渴","Khát nước"],["刻","kè","Khắc","一刻","15 phút"],["客人","kèrén","Khách","请客","Mời khách"],
        ["空调","kōngtiáo","Điều hòa","开空调","Bật điều hòa"],["口","kǒu","Miệng","张口","Mở miệng"],["哭","kū","Khóc","别哭","Đừng khóc"],
        ["裤子","kùzi","Quần","穿裤子","Mặc quần"],["筷子","kuàizi","Đũa","用筷子","Dùng đũa"],["蓝","lán","Xanh","蓝色","Màu xanh lam"],
        ["老","lǎo","Già","老了","Già rồi"],["离开","líkāi","Rời","离开你","Rời xa bạn"],["礼物","lǐwù","Quà","送礼物","Tặng quà"],
        ["历史","lìshǐ","Lịch sử","学历史","Học sử"],["脸","liǎn","Mặt","洗脸","Rửa mặt"],["练习","liànxí","Luyện","练习本","Vở bài tập"],
        ["辆","liàng","Chiếc","一辆车","1 chiếc xe"],["聊天","liáotiān","Chat","聊天儿","Tám chuyện"],["了解","liǎojiě","Hiểu","了解情况","Hiểu tình hình"],
        ["邻居","línjū","Hàng xóm","好邻居","Hàng xóm tốt"],["留学","liúxué","Du học","去留学","Đi du học"],["楼","lóu","Lầu","上楼","Lên lầu"],
        ["绿","lǜ","Xanh","绿色","Màu xanh lục"],["马","mǎ","Ngựa","骑马","Cưỡi ngựa"],["马上","mǎshàng","Ngay","马上来","Đến ngay"],
        ["满意","mǎnyì","Hài lòng","很满意","Rất hài lòng"],["帽子","màozi","Mũ","戴帽子","Đội mũ"],["米","mǐ","Mét/Gạo","一米","1 mét"],
        ["面包","miànbāo","Bánh mì","吃面包","Ăn bánh mì"],["面条","miàntiáo","Mì","吃面","Ăn mì"],["明白","míngbai","Hiểu","明白了","Hiểu rồi"],
        ["拿","ná","Cầm","拿去","Cầm đi"],["奶奶","nǎinai","Bà","我奶奶","Bà tôi"],["南","nán","Nam","南方","Phương Nam"],
        ["难","nán","Khó","很难","Rất khó"],["难过","nánguò","Buồn","很难过","Rất buồn"],["年级","niánjí","Lớp","一年级","Lớp 1"],
        ["年轻","niánqīng","Trẻ","年轻人","Người trẻ"],["鸟","niǎo","Chim","小鸟","Chim nhỏ"],["努力","nǔlì","Nỗ lực","很努力","Rất nỗ lực"],
        ["爬山","páshān","Leo núi","去爬山","Đi leo núi"],["盘子","pánzi","Đĩa","洗盘子","Rửa đĩa"],["胖","pàng","Béo","很胖","Rất béo"],
        ["皮鞋","píxié","Giày da","穿皮鞋","Đi giày da"],["啤酒","píjiǔ","Bia","喝啤酒","Uống bia"],["普通话","pǔtōnghuà","Phổ thông","讲普通话","Nói phổ thông"],
        ["其实","qíshí","Thực ra","其实...","Thực ra là..."],["其他","qítā","Khác","其他人","Người khác"],["奇怪","qíguài","Kỳ lạ","很奇怪","Rất lạ"],
        ["骑","qí","Cưỡi","骑车","Đạp xe"],["起飞","qǐfēi","Cất cánh","飞机起飞","Máy bay cất cánh"],["清楚","qīngchu","Rõ","听清楚","Nghe rõ"],
        ["秋","qiū","Thu","秋天","Mùa thu"],["裙子","qúnzi","Váy","穿裙子","Mặc váy"],["然后","ránhòu","Sau đó","然后...","Sau đó..."],
        ["热情","rèqíng","Nhiệt tình","很热情","Rất nhiệt tình"],["认为","rènwéi","Cho rằng","我认为","Tôi cho rằng"],["认真","rènzhēn","Chăm chỉ","很认真","Rất chăm"],
        ["容易","róngyì","Dễ","很容易","Rất dễ"],["如果","rúguǒ","Nếu","如果...","Nếu như..."],["伞","sǎn","Ô","带伞","Mang ô"],
        ["上网","shàngwǎng","Lên mạng","去上网","Đi lên mạng"],["生气","shēngqì","Giận","别生气","Đừng giận"],["声音","shēngyīn","Tiếng","大声音","Tiếng to"],
        ["世界","shìjiè","Thế giới","全世界","Toàn thế giới"],["试","shì","Thử","试一下","Thử một chút"],["瘦","shòu","Gầy","很瘦","Rất gầy"],
        ["叔叔","shūshu","Chú","李叔叔","Chú Lý"],["舒服","shūfu","Thoải mái","很舒服","Rất thoải mái"],["树","shù","Cây","大树","Cây to"],
        ["数学","shùxué","Toán","学数学","Học toán"],["刷牙","shuāyá","Đánh răng","去刷牙","Đi đánh răng"],["双","shuāng","Đôi","一双","1 đôi"],
        ["水平","shuǐpíng","Trình độ","水平高","Trình độ cao"],["司机","sījī","Tài xế","老司机","Tài xế già"],["太阳","tàiyáng","Mặt trời","出太阳","Mặt trời mọc"],
        ["特别","tèbié","Đặc biệt","很特别","Rất đặc biệt"],["疼","téng","Đau","头疼","Đau đầu"],["提高","tígāo","Nâng cao","提高水平","Nâng cao trình độ"],
        ["体育","tǐyù","Thể dục","体育课","Môn thể dục"],["甜","tián","Ngọt","很甜","Rất ngọt"],["条","tiáo","Cái","一条鱼","1 con cá"],
        ["同事","tóngshì","Đồng nghiệp","好同事","Đồng nghiệp tốt"],["同意","tóngyì","Đồng ý","我同意","Tôi đồng ý"],["头发","tóufa","Tóc","长头发","Tóc dài"],
        ["突然","tūrán","Đột nhiên","很突然","Rất đột nhiên"],["图书馆","túshūguǎn","Thư viện","去图书馆","Đến thư viện"],["腿","tuǐ","Chân","腿疼","Đau chân"],
        ["完成","wánchéng","Hoàn thành","完成了","Xong rồi"],["碗","wǎn","Bát","一碗饭","1 bát cơm"],["万","wàn","Vạn","一万","1 vạn"],
        ["忘记","wàngjì","Quên","忘记了","Quên rồi"],["为","wèi","Vì","为了...","Vì..."],["为了","wèile","Để","为了你","Để cho bạn"],
        ["位","wèi","Vị","一位老师","1 vị giáo viên"],["文化","wénhuà","Văn hóa","中国文化","Văn hóa TQ"],["西","xī","Tây","西方","Phương Tây"],
        ["习惯","xíguàn","Thói quen","好习惯","Thói quen tốt"],["洗手间","xǐshǒujiān","WC","去洗手间","Đi WC"],["洗澡","xǐzǎo","Tắm","去洗澡","Đi tắm"],
        ["夏","xià","Hạ","夏天","Mùa hè"],["先","xiān","Trước","先走","Đi trước"],["相信","xiāngxìn","Tin","相信我","Tin tôi"],
        ["香蕉","xiāngjiāo","Chuối","吃香蕉","Ăn chuối"],["向","xiàng","Hướng","向左","Hướng trái"],["像","xiàng","Giống","很像","Rất giống"],
        ["小心","xiǎoxīn","Cẩn thận","很小心","Rất cẩn thận"],["校长","xiàozhǎng","Hiệu trưởng","张校长","Hiệu trưởng Trương"],["新闻","xīnwén","Tin tức","看新闻","Xem tin"],
        ["新鲜","xīnxiān","Tươi","很新鲜","Rất tươi"],["信用卡","xìnyòngkǎ","Thẻ TD","用信用卡","Dùng thẻ"],["行李箱","xínglixiāng","Vali","大行李箱","Vali to"],
        ["熊猫","xióngmāo","Gấu trúc","看熊猫","Xem gấu trúc"],["需要","xūyào","Cần","不需要","Không cần"],["选择","xuǎnzé","Chọn","好选择","Lựa chọn tốt"],
        ["要求","yāoqiú","Yêu cầu","高要求","Yêu cầu cao"],["爷爷","yéye","Ông","我爷爷","Ông tôi"],["一定","yídìng","Nhất định","一定要","Nhất định phải"],
        ["一共","yígòng","Tổng","一共多少","Tổng bao nhiêu"],["一会儿","yíhuìr","Một lát","等一会儿","Đợi lát"],["一样","yíyàng","Giống","不一样","Không giống"],
        ["一般","yìbān","Bình thường","很一般","Rất bình thường"],["一边","yìbiān","Vừa...","一边...一边","Vừa...vừa..."],["一直","yìzhí","Luôn","一直走","Đi thẳng"],
        ["以前","yǐqián","Trước đây","以前...","Trước đây..."],["音乐","yīnyuè","Nhạc","听音乐","Nghe nhạc"],["银行","yínháng","Ngân hàng","去银行","Đến NH"],
        ["饮料","yǐnliào","Đồ uống","喝饮料","Uống nước"],["应该","yīnggāi","Nên","应该去","Nên đi"],["影响","yǐngxiǎng","Ảnh hưởng","有影响","Có ảnh hưởng"],
        ["用","yòng","Dùng","不用","Không dùng"],["游戏","yóuxì","Game","玩游戏","Chơi game"],["有名","yǒumíng","Nổi tiếng","很有名","Rất nổi tiếng"],
        ["又","yòu","Lại","又来了","Lại đến rồi"],["遇到","yùdào","Gặp","遇到你","Gặp bạn"],["元","yuán","Đồng","一元","1 đồng"],
        ["愿意","yuànyì","Bằng lòng","我愿意","Tôi đồng ý"],["月亮","yuèliang","Trăng","看月亮","Ngắm trăng"],["越","yuè","Càng","越...越...","Càng...càng..."],
        ["站","zhàn","Đứng/Trạm","车站","Bến xe"],["张","zhāng","Tấm","一张纸","1 tờ giấy"],["照顾","zhàogù","Chăm sóc","照顾好","Chăm tốt"],
        ["照片","zhàopiàn","Ảnh","拍照片","Chụp ảnh"],["照相机","zhàoxiàngjī","Máy ảnh","买相机","Mua máy ảnh"],["只","zhǐ","Chỉ","只有","Chỉ có"],
        ["只","zhī","Con","一只猫","1 con mèo"],["中间","zhōngjiān","Giữa","在中间","Ở giữa"],["中文","Zhōngwén","Tiếng Trung","学中文","Học tiếng Trung"],
        ["终于","zhōngyú","Cuối cùng","终于来了","Cuối cùng cũng đến"],["种","zhǒng","Loại","这种","Loại này"],["重要","zhòngyào","Quan trọng","很重要","Rất quan trọng"],
        ["周末","zhōumò","Cuối tuần","过周末","Nghỉ cuối tuần"],["主要","zhǔyào","Chủ yếu","主要是","Chủ yếu là"],["注意","zhùyì","Chú ý","请注意","Xin chú ý"],
        ["着急","zháojí","Lo lắng","别着急","Đừng vội"],["自己","zìjǐ","Tự mình","我自己","Tự tôi"],["总是","zǒngshì","Luôn","总是去","Luôn đi"],
        ["嘴","zuǐ","Miệng","张嘴","Mở miệng"],["作业","zuòyè","Bài tập","做作业","Làm bài tập"],["作用","zuòyòng","Tác dụng","有作用","Có tác dụng"]
    ];

    // HSK 4: 600 từ (Data nén để tiết kiệm dung lượng file - Đây là mẫu đại diện lớn)
    const hsk4_db = [
        ["爱情","àiqíng","Tình yêu","美好的爱情","Tình yêu đẹp"],["安排","ānpái","Sắp xếp","安排工作","Sắp xếp việc"],["安全","ānquán","An toàn","注意安全","Chú ý an toàn"],
        ["暗","àn","Tối","太暗了","Tối quá"],["按时","ànshí","Đúng giờ","按时到","Đến đúng giờ"],["按照","ànzhào","Theo","按照规定","Theo quy định"],
        ["百分之","bǎifēnzhī","%","百分之百","100%"],["棒","bàng","Giỏi","真棒","Giỏi quá"],["包子","bāozi","Bánh bao","吃包子","Ăn bánh bao"],
        ["保护","bǎohù","Bảo vệ","保护环境","Bảo vệ môi trường"],["保证","bǎozhèng","Đảm bảo","我保证","Tôi đảm bảo"],["抱","bào","Ôm","抱一抱","Ôm một cái"],
        ["抱歉","bàoqiàn","Xin lỗi","很抱歉","Rất xin lỗi"],["报名","bàomíng","Báo danh","报名参加","Đăng ký"],["倍","bèi","Gấp","两倍","Gấp đôi"],
        ["本来","běnlái","Vốn dĩ","本来是","Vốn dĩ là"],["笨","bèn","Ngốc","太笨了","Ngốc quá"],["比如","bǐrú","Ví dụ","比如说","Ví dụ nói"],
        ["毕业","bìyè","Tốt nghiệp","大学毕业","Tốt nghiệp ĐH"],["遍","biàn","Lần","一遍","Một lần"],["标准","biāozhǔn","Tiêu chuẩn","高标准","Tiêu chuẩn cao"],
        ["表格","biǎogé","Bảng","填表格","Điền bảng"],["表示","biǎoshì","Biểu thị","表示感谢","Biểu thị cảm ơn"],["表演","biǎoyǎn","Biểu diễn","看表演","Xem biểu diễn"],
        ["表扬","biǎoyáng","Khen","受表扬","Được khen"],["饼干","bǐnggān","Bánh quy","吃饼干","Ăn bánh"],["并且","bìngqiě","Và","并且...","Và còn..."],
        ["博士","bóshì","Tiến sĩ","女博士","Nữ tiến sĩ"],["不得不","bùdébù","Phải","不得不去","Không thể không đi"],["不管","bùguǎn","Bất kể","不管...","Bất kể..."],
        ["不过","búguò","Nhưng","只不过","Chẳng qua là"],["不仅","bùjǐn","Không những","不仅...","Không những..."],["部分","bùfen","Bộ phận","一部分","Một phần"],
        ["擦","cā","Lau","擦黑板","Lau bảng"],["猜","cāi","Đoán","猜猜看","Đoán xem"],["材料","cáiliào","Tài liệu","看材料","Xem tài liệu"],
        ["参观","cānguān","Tham quan","去参观","Đi tham quan"],["餐厅","cāntīng","Nhà hàng","去餐厅","Đi nhà hàng"],["厕所","cèsuǒ","WC","上厕所","Đi vệ sinh"],
        ["差不多","chàbuduō","Xấp xỉ","差不多","Gần như"],["长城","Chángchéng","Trường Thành","去长城","Đi Trường Thành"],["长江","Chángjiāng","Trường Giang","长江水","Nước sông"],
        ["尝","cháng","Nếm","尝一下","Nếm thử"],["场","chǎng","Trận","一场球","1 trận bóng"],["超过","chāoguò","Vượt","超过了","Vượt qua rồi"],
        ["吵","chǎo","Ồn","太吵","Ồn quá"],["成功","chénggōng","Thành công","很成功","Rất thành công"],["成熟","chéngshú","Trưởng thành","很成熟","Rất chín chắn"],
        ["成为","chéngwéi","Trở thành","成为...","Trở thành..."],["诚实","chéngshí","Thành thật","很诚实","Rất thật thà"],["乘坐","chéngzuò","Ngồi","乘坐飞机","Đi máy bay"],
        ["吃惊","chījīng","Kinh ngạc","很吃惊","Rất ngạc nhiên"],["重新","chóngxīn","Lại","重新做","Làm lại"],["抽烟","chōuyān","Hút thuốc","别抽烟","Đừng hút thuốc"],
        ["出差","chūchāi","Công tác","去出差","Đi công tác"],["出发","chūfā","Xuất phát","准时出发","Xuất phát đúng giờ"],["出生","chūshēng","Sinh","出生于","Sinh tại"],
        ["厨房","chúfáng","Bếp","下厨房","Vào bếp"],["传真","chuánzhēn","Fax","发传真","Gửi fax"],["窗户","chuānghu","Cửa sổ","开窗户","Mở cửa sổ"],
        ["词典","cídiǎn","Từ điển","查词典","Tra từ điển"],["从来","cónglái","Từ xưa","从来不","Chưa từng"],["粗心","cūxīn","Cẩu thả","太粗心","Quá cẩu thả"],
        ["存","cún","Gửi","存钱","Gửi tiền"],["错误","cuòwù","Lỗi","犯错误","Mắc lỗi"],["答案","dá'àn","Đáp án","看答案","Xem đáp án"],
        ["打扮","dǎban","Trang điểm","爱打扮","Thích diện"],["打扰","dǎrǎo","Làm phiền","打扰了","Làm phiền rồi"],["打印","dǎyìn","In","打印机","Máy in"],
        ["打折","dǎzhé","Giảm giá","打八折","Giảm 20%"],["打针","dǎzhēn","Tiêm","去打针","Đi tiêm"],["大概","dàgài","Đại khái","大概是","Có lẽ là"],
        ["大使馆","dàshǐguǎn","Đại sứ quán","去使馆","Đi sứ quán"],["大约","dàyuē","Khoảng","大约...","Khoảng..."],["大夫","dàifu","Bác sĩ","看大夫","Khám bác sĩ"],
        ["戴","dài","Đeo","戴眼镜","Đeo kính"],["当","dāng","Làm","当老师","Làm giáo viên"],["当时","dāngshí","Lúc đó","当时...","Lúc đó..."],
        ["刀","dāo","Dao","菜刀","Dao thái"],["导游","dǎoyóu","HDV","当导游","Làm HDV"],["倒","dǎo","Đổ","倒水","Rót nước"],
        ["到处","dàochù","Khắp nơi","到处是","Khắp nơi là"],["到底","dàodǐ","Rốt cuộc","到底...","Rốt cuộc..."],["道歉","dàoqiàn","Xin lỗi","道个歉","Xin lỗi đi"],
        ["得意","déyì","Đắc ý","很得意","Rất đắc ý"],["得","děi","Phải","得走了","Phải đi rồi"],["登机牌","dēngjīpái","Thẻ lên MB","换登机牌","Đổi thẻ lên tàu"],
        ["等","děng","Vân vân","等等","Vân vân"],["低","dī","Thấp","很低","Rất thấp"],["底","dǐ","Đáy","到底","Đến đáy"],
        ["地点","dìdiǎn","Địa điểm","好地点","Địa điểm tốt"],["地球","dìqiú","Trái đất","在地球","Trên trái đất"],["地址","dìzhǐ","Địa chỉ","写地址","Viết địa chỉ"],
        ["调查","diàochá","Điều tra","做调查","Làm điều tra"],["掉","diào","Rơi","掉下来","Rơi xuống"],["丢","diū","Mất","丢钱","Mất tiền"],
        ["动作","dòngzuò","Động tác","慢动作","Động tác chậm"],["堵车","dǔchē","Tắc đường","又堵车","Lại tắc đường"],["肚子","dùzi","Bụng","肚子疼","Đau bụng"],
        ["短信","duǎnxìn","SMS","发短信","Gửi tin nhắn"],["对话","duìhuà","Đối thoại","练对话","Luyện hội thoại"],["对面","duìmiàn","Đối diện","在对面","Ở đối diện"],
        ["对于","duìyú","Đối với","对于我","Đối với tôi"],["儿童","értóng","Trẻ em","儿童节","Tết thiếu nhi"],["而","ér","Mà","而且","Mà còn"],
        ["发生","fāshēng","Xảy ra","发生了","Xảy ra rồi"],["发展","fāzhǎn","Phát triển","发展快","Phát triển nhanh"],["法律","fǎlǜ","Luật","学法律","Học luật"],
        ["翻译","fānyì","Phiên dịch","当翻译","Làm phiên dịch"],["烦恼","fánnǎo","Phiền não","没烦恼","Không lo nghĩ"],["反对","fǎnduì","Phản đối","我反对","Tôi phản đối"],
        ["方法","fāngfǎ","Phương pháp","好方法","Cách hay"],["方面","fāngmiàn","Phương diện","一方面","Một mặt"],["方向","fāngxiàng","Phương hướng","找方向","Tìm hướng"],
        ["房东","fángdōng","Chủ nhà","找房东","Tìm chủ nhà"],["放弃","fàngqì","Từ bỏ","别放弃","Đừng bỏ cuộc"],["放暑假","fàng shǔjià","Nghỉ hè","快放暑假","Sắp nghỉ hè"],
        ["放松","fàngsōng","Thư giãn","放松点","Thư giãn chút"],["份","fèn","Phần","一份","1 suất"],["丰富","fēngfù","Phong phú","很丰富","Rất phong phú"],
        ["否则","fǒuzé","Nếu không","否则...","Nếu không..."],["符合","fúhé","Phù hợp","符合要求","Hợp yêu cầu"],["父亲","fùqīn","Cha","我父亲","Cha tôi"],
        ["付款","fùkuǎn","Thanh toán","去付款","Đi trả tiền"],["负责","fùzé","Phụ trách","我负责","Tôi chịu trách nhiệm"],["复印","fùyìn","Photo","复印件","Bản photo"],
        ["复杂","fùzá","Phức tạp","太复杂","Quá phức tạp"],["富","fù","Giàu","富有","Giàu có"],["改变","gǎibiàn","Thay đổi","改变了","Thay đổi rồi"],
        ["干杯","gānbēi","Cạn ly","干杯","Dô!"],["赶","gǎn","Đuổi","赶快","Mau lên"],["敢","gǎn","Dám","不敢","Không dám"],
        ["感动","gǎndòng","Cảm động","很感动","Rất cảm động"],["感觉","gǎnjué","Cảm giác","有感觉","Có cảm giác"],["感情","gǎnqíng","Tình cảm","有感情","Có tình cảm"],
        ["感谢","gǎnxiè","Cảm tạ","非常感谢","Vô cùng cảm tạ"],["干","gàn","Làm","干活","Làm việc"],["高级","gāojí","Cao cấp","很高级","Rất cao cấp"],
        ["高速公路","gāosù gōnglù","Cao tốc","上高速","Lên cao tốc"],["各","gè","Các","各位","Các vị"],["工资","gōngzī","Lương","发工资","Phát lương"],
        ["公里","gōnglǐ","Km","一公里","1 cây số"],["功夫","gōngfu","Kungfu","中国功夫","Kungfu TQ"],["共同","gòngtóng","Chung","共同点","Điểm chung"],
        ["购物","gòuwù","Mua sắm","去购物","Đi shopping"],["够","gòu","Đủ","够了","Đủ rồi"],["估计","gūjì","Ước tính","我估计","Tôi đoán"],
        ["孤单","gūdān","Cô đơn","很孤单","Rất cô đơn"],["鼓励","gǔlì","Cổ vũ","互相鼓励","Cổ vũ nhau"],["鼓掌","gǔzhǎng","Vỗ tay","大家鼓掌","Mọi người vỗ tay"],
        ["顾客","gùkè","Khách","顾客至上","Khách là thượng đế"],["故意","gùyì","Cố ý","故意的","Cố tình"],["挂","guà","Treo","挂起来","Treo lên"],
        ["关键","guānjiàn","Then chốt","关键是","Quan trọng là"],["观众","guānzhòng","Khán giả","各位观众","Thưa quý khán giả"],["管理","guǎnlǐ","Quản lý","管理好","Quản lý tốt"],
        ["光","guāng","Sáng/Chỉ","光亮","Sáng sủa"],["广播","guǎngbō","Phát thanh","听广播","Nghe đài"],["广告","guǎnggào","Quảng cáo","看广告","Xem QC"],
        ["逛","guàng","Dạo","逛街","Dạo phố"],["规定","guīdìng","Quy định","有规定","Có quy định"],["国籍","guójí","Quốc tịch","什么国籍","Quốc tịch gì"],
        ["国际","guójì","Quốc tế","国际化","Quốc tế hóa"],["果汁","guǒzhī","Nước ép","喝果汁","Uống nước ép"],["过程","guòchéng","Quá trình","全过程","Toàn quá trình"],
        ["海洋","hǎiyáng","Đại dương","看海洋","Ngắm biển"],["害羞","hàixiū","Xấu hổ","别害羞","Đừng ngại"],["寒假","hánjià","Nghỉ đông","放寒假","Nghỉ đông"],
        ["汗","hàn","Mồ hôi","流汗","Đổ mồ hôi"],["好处","hǎochu","Lợi ích","有好处","Có lợi"],["好像","hǎoxiàng","Hình như","好像是","Hình như là"],
        ["号码","hàomǎ","Số","电话号码","Số ĐT"],["合格","hégé","Hợp lệ","不合格","Không đạt"],["合适","héshì","Thích hợp","很合适","Rất hợp"],
        ["盒子","hézi","Hộp","一个盒子","Một cái hộp"],["后悔","hòuhuǐ","Hối hận","不后悔","Không hối hận"],["厚","hòu","Dày","很厚","Rất dày"],
        ["互联网","hùliánwǎng","Internet","上互联网","Lên mạng"],["互相","hùxiāng","Lẫn nhau","互相帮助","Giúp nhau"],["护士","hùshi","Y tá","女护士","Y tá nữ"],
        ["怀疑","huáiyí","Hoài nghi","我怀疑","Tôi nghi ngờ"],["回忆","huíyì","Hồi ức","美好回忆","Hồi ức đẹp"],["活动","huódòng","Hoạt động","搞活动","Tổ chức HĐ"],
        ["活泼","huópō","Hoạt bát","很活泼","Rất hoạt bát"],["火","huǒ","Lửa/Hot","很火","Rất hot"],["获得","huòdé","Đạt được","获得奖","Đạt giải"],
        ["积极","jījí","Tích cực","很积极","Rất tích cực"],["积累","jīlěi","Tích lũy","积累经验","Tích lũy KN"],["基础","jīchǔ","Cơ sở","打基础","Xây nền tảng"],
        ["激动","jīdòng","Kích động","很激动","Rất kích động"],["及时","jíshí","Kịp thời","很及时","Rất kịp thời"],["即使","jíshǐ","Cho dù","即使...","Cho dù..."],
        ["计划","jìhuà","Kế hoạch","做计划","Lập kế hoạch"],["计算机","jìsuànjī","Máy tính","学计算机","Học máy tính"],["记者","jìzhě","Nhà báo","当记者","Làm nhà báo"],
        ["技术","jìshù","Kỹ thuật","新技术","Kỹ thuật mới"],["既然","jìrán","Đã","既然...","Đã...thì"],["继续","jìxù","Tiếp tục","继续做","Tiếp tục làm"],
        ["寄","jì","Gửi","寄信","Gửi thư"],["加班","jiābān","Tăng ca","要加班","Phải tăng ca"],["加油站","jiāyóuzhàn","Trạm xăng","去加油","Đi đổ xăng"],
        ["家具","jiājù","Nội thất","买家具","Mua nội thất"],["价格","jiàgé","Giá cả","价格高","Giá cao"],["假","jiǎ","Giả","假的","Đồ giả"],
        ["坚持","jiānchí","Kiên trì","坚持住","Kiên trì lên"],["减肥","jiǎnféi","Giảm cân","我要减肥","Tôi muốn giảm cân"],["减少","jiǎnshǎo","Giảm","减少了","Giảm rồi"],
        ["建议","jiànyì","Kiến nghị","提建议","Đưa kiến nghị"],["将来","jiānglái","Tương lai","在将来","Trong tương lai"],["奖金","jiǎngjīn","Thưởng","发奖金","Phát thưởng"],
        ["降低","jiàngdī","Hạ thấp","降低要求","Hạ yêu cầu"],["交","jiāo","Giao","交朋友","Kết bạn"],["交流","jiāoliú","Giao lưu","多交流","Giao lưu nhiều"],
        ["交通","jiāotōng","Giao thông","交通方便","Giao thông tiện"],["骄傲","jiāo'ào","Kiêu ngạo","很骄傲","Rất tự hào"],["饺子","jiǎozi","Sủi cảo","包饺子","Gói sủi cảo"],
        ["教授","jiàoshòu","Giáo sư","老教授","Giáo sư già"],["教育","jiàoyù","Giáo dục","受教育","Được giáo dục"],["接受","jiēshòu","Chấp nhận","接受它","Chấp nhận nó"],
        ["节约","jiéyuē","Tiết kiệm","节约水","Tiết kiệm nước"],["结果","jiéguǒ","Kết quả","看结果","Xem kết quả"],["解释","jiěshì","Giải thích","听解释","Nghe giải thích"],
        ["紧张","jǐnzhāng","Căng thẳng","很紧张","Rất căng thẳng"],["尽管","jǐnguǎn","Cho dù","尽管说","Cứ nói đi"],["进行","jìnxíng","Tiến hành","正在进行","Đang tiến hành"],
        ["禁止","jìnzhǐ","Cấm","禁止吸烟","Cấm hút thuốc"],["精彩","jīngcǎi","Đặc sắc","很精彩","Rất hay"],["精神","jīngshén","Tinh thần","有精神","Có tinh thần"],
        ["经济","jīngjì","Kinh tế","搞经济","Làm kinh tế"],["经历","jīnglì","Trải nghiệm","经历过","Đã trải qua"],["经验","jīngyàn","Kinh nghiệm","有经验","Có kinh nghiệm"],
        ["京剧","jīngjù","Kinh kịch","唱京剧","Hát kinh kịch"],["警察","jǐngchá","Cảnh sát","叫警察","Gọi cảnh sát"],["竟然","jìngrán","Lại","竟然是","Lại là"],
        ["竞争","jìngzhēng","Cạnh tranh","有竞争","Có cạnh tranh"],["镜子","jìngzi","Gương","照镜子","Soi gương"],["究竟","jiūjìng","Rốt cuộc","究竟...","Rốt cuộc..."],
        ["举","jǔ","Giơ","举手","Giơ tay"],["举办","jǔbàn","Tổ chức","举办活动","Tổ chức HĐ"],["举行","jǔxíng","Cử hành","举行婚礼","Tổ chức cưới"],
        ["拒绝","jùjué","Từ chối","拒绝了","Từ chối rồi"],["距离","jùlí","Khoảng cách","有距离","Có khoảng cách"],["聚会","jùhuì","Tụ họp","去聚会","Đi tụ tập"],
        ["开玩笑","kāi wánxiào","Đùa","别开玩笑","Đừng đùa"],["开心","kāixīn","Vui","很开心","Rất vui"],["看法","kànfǎ","Quan điểm","有看法","Có ý kiến"],
        ["考虑","kǎolǜ","Cân nhắc","考虑一下","Cân nhắc chút"],["科学","kēxué","Khoa học","学科学","Học khoa học"],["棵","kē","Cây","一棵树","1 cái cây"],
        ["咳嗽","késou","Ho","咳嗽了","Bị ho"],["可怜","kělián","Đáng thương","真可怜","Thật đáng thương"],["可是","kěshì","Nhưng","可是...","Nhưng mà..."],
        ["可惜","kěxī","Đáng tiếc","真可惜","Thật đáng tiếc"],["客厅","kètīng","Phòng khách","在客厅","Ở phòng khách"],["肯定","kěndìng","Khẳng định","我肯定","Tôi khẳng định"],
        ["空","kōng","Trống","有空吗","Rảnh không"],["空气","kōngqì","Không khí","好空气","Không khí tốt"],["恐怕","kǒngpà","E rằng","恐怕不行","E rằng không được"],
        ["苦","kǔ","Đắng/Khổ","很苦","Rất đắng"],["矿泉水","kuàngquánshuǐ","Nước khoáng","喝矿泉水","Uống nước khoáng"],["困","kùn","Buồn ngủ","我困了","Tôi buồn ngủ"],
        ["困难","kùnnan","Khó khăn","有困难","Gặp khó khăn"],["垃圾桶","lājītǒng","Thùng rác","倒垃圾","Đổ rác"],["拉","lā","Kéo","拉门","Kéo cửa"],
        ["辣","là","Cay","很辣","Rất cay"],["来不及","láibují","Không kịp","来不及了","Không kịp nữa rồi"],["来得及","láidejí","Kịp","还来得及","Vẫn còn kịp"],
        ["懒","lǎn","Lười","很懒","Rất lười"],["浪费","làngfèi","Lãng phí","别浪费","Đừng lãng phí"],["浪漫","làngmàn","Lãng mạn","很浪漫","Rất lãng mạn"],
        ["老虎","lǎohǔ","Hổ","一只老虎","1 con hổ"],["冷静","lěngjìng","Bình tĩnh","请冷静","Hãy bình tĩnh"],["礼貌","lǐmào","Lễ phép","有礼貌","Có lễ phép"],
        ["理发","lǐfà","Cắt tóc","去理发","Đi cắt tóc"],["理解","lǐjiě","Hiểu/Cảm thông","互相理解","Hiểu nhau"],["理想","lǐxiǎng","Lý tưởng","有理想","Có lý tưởng"],
        ["厉害","lìhai","Lợi hại","很厉害","Rất lợi hại"],["力气","lìqi","Sức lực","有力气","Có sức"],["例如","lìrú","Ví dụ","例如...","Ví dụ..."],
        ["俩","liǎ","Hai","我们俩","Hai chúng ta"],["连","lián","Ngay cả","连...都","Ngay cả...cũng"],["联系","liánxí","Liên hệ","常联系","Thường liên lạc"],
        ["凉快","liángkuai","Mát","很凉快","Rất mát"],["亮","liàng","Sáng","天亮了","Trời sáng rồi"],["聊天","liáotiān","Chat","聊聊天","Nói chuyện"],
        ["另外","lìngwài","Ngoài ra","另外...","Ngoài ra..."],["留","liú","Lưu","留下来","Ở lại"],["流泪","liúlèi","Khóc","流泪了","Rơi lệ rồi"],
        ["流利","liúlì","Lưu loát","很流利","Rất lưu loát"],["流行","liúxíng","Thịnh hành","很流行","Rất mốt"],["乱","luàn","Loạn","很乱","Rất loạn"],
        ["律师","lǜshī","Luật sư","当律师","Làm luật sư"],["麻烦","máfan","Phiền","很麻烦","Rất phiền"],["马虎","mǎhu","Qua loa","太马虎","Quá qua loa"],
        ["满","mǎn","Đầy","满了","Đầy rồi"],["毛","máo","Lông/Hào","一毛","1 hào"],["毛巾","máojīn","Khăn","用毛巾","Dùng khăn"],
        ["美好","měihǎo","Tốt đẹp","很美好","Rất tốt đẹp"],["美丽","měilì","Đẹp","美丽的","Xinh đẹp"],["梦","mèng","Mơ","做梦","Nằm mơ"]
    ];

    // --- XỬ LÝ DỮ LIỆU ---
    function process(data, lvl) {
        return data.map(i => ({
            hsk: lvl,
            hanzi: i[0],
            pinyin: i[1],
            meaning: i[2],
            example: i[3],
            example_meaning: i[4]
        }));
    }

    const fullDB = [
        ...process(hsk1_db, 1),
        ...process(hsk2_db, 2),
        ...process(hsk3_db, 3),
        ...process(hsk4_db, 4)
    ];

    // --- APP STATE ---
    let state = {
        level: 1,
        mode: 'list',
        search: '',
        learned: JSON.parse(localStorage.getItem('learned') || '[]'),
        cardIdx: 0,
        filtered: [],
        speech: null
    };

    // --- INIT ---
    window.onload = () => {
        updateFilter();
        render();
        initSpeech();
        updateLearnedCount();
        
        // Auto select tab
        switchLevel(1);
        navSwitch('list', document.querySelector('.nav-item'));
    };

    // --- LOGIC: FILTER & RENDER ---
    function switchLevel(lvl) {
        state.level = lvl;
        state.cardIdx = 0;
        document.querySelectorAll('.level-chip').forEach((el, i) => {
            el.classList.toggle('active', i + 1 === lvl);
        });
        updateFilter();
    }

    function updateFilter() {
        const s = state.search.toLowerCase();
        state.filtered = fullDB.filter(item => 
            item.hsk === state.level && 
            (item.hanzi.includes(s) || item.pinyin.includes(s) || item.meaning.includes(s))
        );
        render();
    }

    document.getElementById('search-input').addEventListener('input', (e) => {
        state.search = e.target.value;
        updateFilter();
    });

    function render() {
        if (state.mode === 'list') renderList();
        else if (state.mode === 'card') renderCard();
    }

    // 1. RENDER LIST
    function renderList() {
        const container = document.getElementById('view-list');
        container.innerHTML = state.filtered.map(item => {
            const isKnown = state.learned.includes(item.hanzi);
            return `
            <div class="word-card flex justify-between items-center ${isKnown ? 'border-l-4 border-l-emerald-400 bg-emerald-50/30' : ''}">
                <div class="flex items-center gap-3">
                    <button onclick="playAudio('${item.hanzi}')" class="w-10 h-10 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center active:bg-pink-100 active:text-pink-500 transition">
                        <i class="fas fa-volume-up"></i>
                    </button>
                    <div>
                        <div class="flex items-baseline gap-2">
                            <h3 class="text-xl font-bold text-slate-800 cn-font">${item.hanzi}</h3>
                            <span class="text-xs font-bold text-pink-500">${item.pinyin}</span>
                        </div>
                        <p class="text-sm text-slate-500 font-medium line-clamp-1">${item.meaning}</p>
                    </div>
                </div>
                <div class="flex gap-2">
                    <button onclick="toggleMic('list', '${item.hanzi}')" class="w-9 h-9 rounded-full border border-slate-200 text-slate-400 flex items-center justify-center active:scale-90 transition">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button onclick="toggleLearn('${item.hanzi}')" class="w-9 h-9 rounded-full ${isKnown ? 'bg-emerald-500 text-white shadow-lg shadow-emerald-200' : 'bg-slate-100 text-slate-300'} flex items-center justify-center active:scale-90 transition">
                        <i class="fas fa-check"></i>
                    </button>
                </div>
            </div>`;
        }).join('');
    }

    // 2. RENDER CARD
    function renderCard() {
        if (state.filtered.length === 0) return;
        const item = state.filtered[state.cardIdx];
        
        // Reset Flip
        const cardInner = document.getElementById('card-inner');
        cardInner.style.transform = 'rotateY(0deg)';

        // Populate
        document.getElementById('fc-hanzi').innerText = item.hanzi;
        document.getElementById('fc-pinyin-front').innerText = item.pinyin;
        document.getElementById('fc-pinyin-back').innerText = item.pinyin;
        document.getElementById('fc-meaning').innerText = item.meaning;
        document.getElementById('fc-example').innerText = item.example;
        document.getElementById('fc-ex-mean').innerText = item.example_meaning;
    }

    function flipCard() {
        const cardInner = document.getElementById('card-inner');
        const isFlipped = cardInner.style.transform === 'rotateY(180deg)';
        cardInner.style.transform = isFlipped ? 'rotateY(0deg)' : 'rotateY(180deg)';
    }

    function navCard(dir) {
        if (dir === 1 && state.cardIdx < state.filtered.length - 1) state.cardIdx++;
        else if (dir === -1 && state.cardIdx > 0) state.cardIdx--;
        renderCard();
    }

    function markKnown() {
        const item = state.filtered[state.cardIdx];
        if(!state.learned.includes(item.hanzi)) {
            state.learned.push(item.hanzi);
            localStorage.setItem('learned', JSON.stringify(state.learned));
            updateLearnedCount();
        }
        navCard(1);
    }

    // 3. MOCK TEST
    let testState = { questions: [], idx: 0, score: 0, timer: null };

    function initTestMenu() {
        const menu = document.getElementById('test-menu');
        menu.innerHTML = '';
        for (let lvl = 1; lvl <= 4; lvl++) {
            // Generate 3 random test seeds per level
            for (let i = 1; i <= 3; i++) {
                menu.innerHTML += `
                <button onclick="startTest(${lvl})" class="bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center justify-center gap-2 active:scale-95 transition">
                    <div class="w-10 h-10 rounded-full bg-pink-50 text-pink-500 flex items-center justify-center font-bold text-lg">${lvl}</div>
                    <span class="text-xs font-bold text-slate-500">Đề số ${i}</span>
                </button>`;
            }
        }
    }

    function startTest(lvl) {
        // Filter pool
        const pool = fullDB.filter(i => i.hsk === lvl);
        if(pool.length < 20) { alert("Đang cập nhật dữ liệu..."); return; }

        // Pick 20 random
        const shuffled = pool.sort(() => 0.5 - Math.random());
        testState.questions = shuffled.slice(0, 20).map(q => {
            // Create distractors
            const others = pool.filter(i => i.hanzi !== q.hanzi);
            const distractors = others.sort(() => 0.5 - Math.random()).slice(0, 3);
            const options = [q, ...distractors].sort(() => 0.5 - Math.random());
            return { question: q, options: options, answer: null };
        });

        testState.idx = 0;
        testState.score = 0;
        
        // UI Switch
        document.getElementById('test-menu').classList.add('hidden');
        document.getElementById('test-interface').classList.remove('hidden');
        
        startTimer();
        renderQuestion();
    }

    function renderQuestion() {
        const qData = testState.questions[testState.idx];
        document.getElementById('q-curr').innerText = testState.idx + 1;
        document.getElementById('q-total').innerText = testState.questions.length;
        document.getElementById('test-q').innerText = qData.question.hanzi;
        document.getElementById('test-feedback').innerHTML = '';

        const optsContainer = document.getElementById('test-opts');
        optsContainer.innerHTML = qData.options.map((opt, i) => `
            <button onclick="answer('${opt.hanzi}', this)" class="w-full p-4 bg-slate-50 rounded-xl font-semibold text-slate-600 text-left border border-slate-200 active:bg-pink-50 transition">
                <span class="font-bold mr-2 text-slate-400">${String.fromCharCode(65+i)}.</span> ${opt.meaning}
            </button>
        `).join('');
    }

    function answer(ans, btn) {
        // Disable all
        const btns = document.querySelectorAll('#test-opts button');
        btns.forEach(b => b.disabled = true);

        const correct = testState.questions[testState.idx].question.hanzi;
        
        if (ans === correct) {
            testState.score += 1;
            btn.classList.add('bg-emerald-100', 'border-emerald-500', 'text-emerald-700');
            playSound('correct');
        } else {
            btn.classList.add('bg-red-100', 'border-red-500', 'text-red-700');
            document.getElementById('test-feedback').innerHTML = `<span class="text-red-500">Sai rồi! Đáp án là: ${testState.questions[testState.idx].question.meaning}</span>`;
            playSound('wrong');
        }

        setTimeout(() => {
            if (testState.idx < testState.questions.length - 1) {
                testState.idx++;
                renderQuestion();
            } else {
                finishTest();
            }
        }, 1200);
    }

    function startTimer() {
        let sec = 1800; // 30 mins
        testState.timer = setInterval(() => {
            sec--;
            const m = Math.floor(sec / 60).toString().padStart(2, '0');
            const s = (sec % 60).toString().padStart(2, '0');
            document.getElementById('timer').innerText = `${m}:${s}`;
            if (sec <= 0) finishTest();
        }, 1000);
    }

    function finishTest() {
        clearInterval(testState.timer);
        document.getElementById('test-interface').classList.add('hidden');
        document.getElementById('test-result').classList.remove('hidden');
        
        const finalScore = Math.round((testState.score / testState.questions.length) * 100);
        document.getElementById('score-val').innerText = finalScore;
    }

    function quitTest() {
        clearInterval(testState.timer);
        resetTest();
    }

    function resetTest() {
        document.getElementById('test-result').classList.add('hidden');
        document.getElementById('test-interface').classList.add('hidden');
        document.getElementById('test-menu').classList.remove('hidden');
    }

    // --- UTILS: AUDIO & SPEECH ---
    let speech;
    let isListening = false; // Track state

    function initSpeech() {
        // Support both standard and webkit
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        
        if (SpeechRecognition) {
            speech = new SpeechRecognition();
            speech.lang = 'zh-CN';
            speech.continuous = false;
            speech.interimResults = false;

            speech.onstart = () => {
                isListening = true;
                showToast("Đang nghe...", "Mời bạn đọc to từ vựng...");
                document.querySelectorAll('.fa-microphone').forEach(i => i.parentElement.classList.add('mic-active'));
            };

            speech.onend = () => {
                isListening = false;
                document.querySelectorAll('.fa-microphone').forEach(i => i.parentElement.classList.remove('mic-active'));
                // Hide toast if it was just "listening" without result, unless result handled it
                setTimeout(() => {
                     const toast = document.getElementById('ai-toast');
                     if(toast.classList.contains('show') && document.getElementById('ai-text').innerText === "Đang nghe...") {
                         toast.classList.remove('show');
                     }
                }, 2000);
            };

            speech.onresult = (e) => {
                const transcript = e.results[0][0].transcript;
                checkSpeech(transcript);
            };

            speech.onerror = (e) => {
                isListening = false;
                let msg = "Lỗi không xác định";
                if(e.error === 'no-speech') msg = "Không nghe thấy gì. Thử lại nhé!";
                if(e.error === 'audio-capture') msg = "Không tìm thấy Microphone.";
                if(e.error === 'not-allowed') msg = "Bạn chưa cấp quyền Microphone.";
                
                showToast("Lỗi!", msg);
                document.querySelectorAll('.fa-microphone').forEach(i => i.parentElement.classList.remove('mic-active'));
                setTimeout(() => document.getElementById('ai-toast').classList.remove('show'), 3000);
            };
        } else {
            console.log("Trình duyệt không hỗ trợ Web Speech API");
        }
    }

    let targetWord = "";
    function toggleMic(ctx, word) {
        if (!speech) { 
            alert("Trình duyệt không hỗ trợ. Vui lòng dùng Google Chrome hoặc Safari."); 
            return; 
        }
        
        if (isListening) {
            speech.stop();
            return;
        }

        if (ctx === 'list') targetWord = word;
        else if (ctx === 'flashcard') targetWord = state.filtered[state.cardIdx].hanzi;
        
        try {
            speech.start();
        } catch (err) {
            console.error(err);
            // If already started, stop it first
            speech.stop();
        }
    }

    function checkSpeech(spoken) {
        // Remove punctuation for comparison
        const cleanSpoken = spoken.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"");
        const cleanTarget = targetWord.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"");
        
        let feedback = "";
        let isCorrect = cleanSpoken.includes(cleanTarget) || cleanTarget.includes(cleanSpoken);

        if (isCorrect) {
            feedback = `<span class="text-emerald-400">Tuyệt vời! Chính xác.</span>`;
            playAudio("Dui le"); // AI khen
        } else {
            feedback = `<span class="text-pink-400">Chưa đúng. Thử lại nhé.</span>`;
        }
        showToast(spoken, feedback);
    }

    function showToast(title, msg) {
        const t = document.getElementById('ai-toast');
        document.getElementById('ai-title').innerText = title; // Update title logic
        if(title === "Đang nghe...") {
             document.getElementById('ai-text').innerText = "...";
             document.getElementById('ai-msg').innerText = msg;
        } else {
             // Result case
             document.getElementById('ai-title').innerText = "Kết quả:";
             document.getElementById('ai-text').innerText = `"${title}"`; // Spoken text passed as title arg
             document.getElementById('ai-msg').innerHTML = msg; // Feedback passed as msg arg
        }
        
        t.classList.add('show');
        
        // Auto hide result toasts
        if(title !== "Đang nghe..." && title !== "Lỗi!") {
             setTimeout(() => {
                if(!isListening) closeAiToast();
            }, 4000);
        }
    }

    function closeAiToast() {
        document.getElementById('ai-toast').classList.remove('show');
    }

    function playAudio(txt) {
        const t = document.getElementById(txt) ? document.getElementById(txt).innerText : txt;
        const u = new SpeechSynthesisUtterance(t);
        u.lang = 'zh-CN';
        window.speechSynthesis.speak(u);
    }

    function playSound(type) {
        // Simple beep logic or external file
    }

    // --- UTILS: NAV & UI ---
    function navSwitch(mode, el) {
        state.mode = mode;
        
        // Hide all views
        document.getElementById('view-list').classList.add('hidden');
        document.getElementById('view-card').classList.add('hidden');
        document.getElementById('view-test').classList.add('hidden');
        
        // Show target view
        document.getElementById(`view-${mode}`).classList.remove('hidden');
        
        // Update nav styling
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        el.classList.add('active');

        // Logic specific
        if(mode === 'list') {
            document.getElementById('search-container').classList.remove('hidden');
            renderList();
        } else if(mode === 'card') {
            document.getElementById('search-container').classList.add('hidden');
            state.cardIdx = 0;
            renderCard();
        } else if(mode === 'test') {
            document.getElementById('search-container').classList.add('hidden');
            initTestMenu();
        }
    }

    function toggleLearn(hanzi) {
        if(state.learned.includes(hanzi)) state.learned = state.learned.filter(w => w !== hanzi);
        else state.learned.push(hanzi);
        localStorage.setItem('learned', JSON.stringify(state.learned));
        updateLearnedCount();
        if(state.mode === 'list') renderList();
    }

    function updateLearnedCount() {
        document.getElementById('learned-count').innerText = state.learned.length;
    }

    function toggleDarkMode() {
        // Simple dark mode toggle logic if needed, but for now stick to Light/App theme
    }
</script>
</body>
</html>
